{"ast":null,"code":"import BeigeCard from\"../../layout/card/BeigeCard\";import{useSelector}from\"react-redux\";import\"./AllRestaurants.scss\";import{Link}from\"react-router-dom\";import{useAppDispatch}from\"../../../store/store\";import{useEffect}from\"react\";import{fetchRestaurants}from\"../../../store/RestaurantDataSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";var RestaurantsGrid=function RestaurantsGrid(_ref){var filter=_ref.filter;var dispatch=useAppDispatch();var _useSelector=useSelector(function(state){return state.restaurants;}),restaurants=_useSelector.restaurants;useEffect(function(){dispatch(fetchRestaurants());},[]);var passFilter=function passFilter(item){switch(filter){case\"all\":return true;case\"new\":if(item.isNewRestaurant)return true;else return false;case\"popular\":if(item.isPopular)return true;else return false;case\"open\":var opening=item.openingHour.split(\":\")[0]*1;var closing=item.closingHour.split(\":\")[0]*1;var date=new Date();var now=date.getHours();if(now>=opening&&now<=closing)return true;else return false;default:return true;}};return/*#__PURE__*/_jsx(\"div\",{className:\"restaurants-grid\",children:restaurants.map(function(item){if(passFilter(item))return/*#__PURE__*/_jsx(Link,{to:\"/restaurant/\".concat(item.name),className:\"to-restaurant-btn\",children:/*#__PURE__*/_jsx(BeigeCard,{title:item.name,detail:item.chef,img:item.mobileImage},item.name)});})});};export default RestaurantsGrid;","map":{"version":3,"sources":["/Users/yardentsaraf/Desktop/EpicureApp/src/components/pages/allRestaurantsPage/RestaurantsGrid.tsx"],"names":["BeigeCard","useSelector","Link","useAppDispatch","useEffect","fetchRestaurants","RestaurantsGrid","filter","dispatch","state","restaurants","passFilter","item","isNewRestaurant","isPopular","opening","openingHour","split","closing","closingHour","date","Date","now","getHours","map","name","chef","mobileImage"],"mappings":"AAAA,MAAOA,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,uBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,sBAA/B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,gBAAT,KAAiC,oCAAjC,C,2CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAqB,IAAlBC,CAAAA,MAAkB,MAAlBA,MAAkB,CAC3C,GAAMC,CAAAA,QAAQ,CAAGL,cAAc,EAA/B,CACA,iBAAwBF,WAAW,CAAC,SAACQ,KAAD,QAAgBA,CAAAA,KAAK,CAACC,WAAtB,EAAD,CAAnC,CAAQA,WAAR,cAAQA,WAAR,CAEAN,SAAS,CAAC,UAAM,CACdI,QAAQ,CAACH,gBAAgB,EAAjB,CAAR,CACD,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAe,CAChC,OAAQL,MAAR,EACE,IAAK,KAAL,CACE,MAAO,KAAP,CACF,IAAK,KAAL,CACE,GAAIK,IAAI,CAACC,eAAT,CAA0B,MAAO,KAAP,CAA1B,IACK,OAAO,MAAP,CACP,IAAK,SAAL,CACE,GAAID,IAAI,CAACE,SAAT,CAAoB,MAAO,KAAP,CAApB,IACK,OAAO,MAAP,CACP,IAAK,MAAL,CACE,GAAMC,CAAAA,OAAO,CAAGH,IAAI,CAACI,WAAL,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,EAAiC,CAAjD,CACA,GAAMC,CAAAA,OAAO,CAAGN,IAAI,CAACO,WAAL,CAAiBF,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,EAAiC,CAAjD,CACA,GAAMG,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,GAAMC,CAAAA,GAAG,CAAGF,IAAI,CAACG,QAAL,EAAZ,CACA,GAAID,GAAG,EAAIP,OAAP,EAAkBO,GAAG,EAAIJ,OAA7B,CAAsC,MAAO,KAAP,CAAtC,IACK,OAAO,MAAP,CACP,QACE,MAAO,KAAP,CAjBJ,CAmBD,CApBD,CAqBA,mBACE,YAAK,SAAS,CAAC,kBAAf,UACGR,WAAW,CAACc,GAAZ,CAAgB,SAACZ,IAAD,CAAe,CAC9B,GAAID,UAAU,CAACC,IAAD,CAAd,CACE,mBACE,KAAC,IAAD,EAAM,EAAE,uBAAiBA,IAAI,CAACa,IAAtB,CAAR,CAAsC,SAAS,CAAC,mBAAhD,uBACE,KAAC,SAAD,EAEE,KAAK,CAAEb,IAAI,CAACa,IAFd,CAGE,MAAM,CAAEb,IAAI,CAACc,IAHf,CAIE,GAAG,CAAEd,IAAI,CAACe,WAJZ,EACOf,IAAI,CAACa,IADZ,CADF,EADF,CAUF,CAZD,CADH,EADF,CAiBD,CA9CD,CA+CA,cAAenB,CAAAA,eAAf","sourcesContent":["import BeigeCard from \"../../layout/card/BeigeCard\";\nimport { useSelector } from \"react-redux\";\nimport \"./AllRestaurants.scss\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../../store/store\";\nimport { useEffect } from \"react\";\nimport { fetchRestaurants } from \"../../../store/RestaurantDataSlice\";\n\nconst RestaurantsGrid = ({ filter }: any) => {\n  const dispatch = useAppDispatch();\n  const { restaurants } = useSelector((state: any) => state.restaurants);\n\n  useEffect(() => {\n    dispatch(fetchRestaurants());\n  },[]);\n\n  const passFilter = (item: any) => {\n    switch (filter) {\n      case \"all\":\n        return true;\n      case \"new\":\n        if (item.isNewRestaurant) return true;\n        else return false;\n      case \"popular\":\n        if (item.isPopular) return true;\n        else return false;\n      case \"open\":\n        const opening = item.openingHour.split(\":\")[0] * 1;\n        const closing = item.closingHour.split(\":\")[0] * 1;\n        const date = new Date();\n        const now = date.getHours();\n        if (now >= opening && now <= closing) return true;\n        else return false;\n      default:\n        return true;\n    }\n  };\n  return (\n    <div className=\"restaurants-grid\">\n      {restaurants.map((item: any) => {\n        if (passFilter(item))\n          return (\n            <Link to={`/restaurant/${item.name}`} className=\"to-restaurant-btn\">\n              <BeigeCard\n                key={item.name}\n                title={item.name}\n                detail={item.chef}\n                img={item.mobileImage}\n              ></BeigeCard>\n            </Link>\n          );\n       })}\n    </div>\n  );\n};\nexport default RestaurantsGrid;\n"]},"metadata":{},"sourceType":"module"}